{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","Notification","message","error","notificationColor","notificationStyle","color","fontSize","padding","background","borderColor","borderStyle","borderRadius","marginBottom","style","PersonForm","onSubmit","nameInputValue","onChangeNameInput","numberInputValue","onChangeNumberInput","buttonText","type","Persons","persons","onClickDelete","map","person","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","useEffect","personService","initialPersons","newName","setNewName","newNumber","setNewNumber","notificationMessage","setNotificationMessage","errorStatus","setErrorStatus","showAll","setShowAll","newFilterName","setNewFilterName","personsToShow","filter","toLowerCase","includes","event","changedFilterName","target","preventDefault","length","p","find","undefined","window","confirm","changedPerson","returnedPerson","setTimeout","catch","concat","console","log","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8936a3be.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ value, onChange }) => (\n  <form>\n    <div>filter shown with: <input value={value} onChange={onChange} /></div>\n  </form>\n)\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationColor = error ? 'red' : 'green'\n\n  const notificationStyle = {\n    color: notificationColor,\n    fontSize: 20,\n    padding: 5,\n    background: 'lightgrey',\n    borderColor: notificationColor,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    marginBottom: 7\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameInputValue, onChangeNameInput, numberInputValue, onChangeNumberInput, buttonText }) => (\n  <form onSubmit={onSubmit}>\n    <div>name: <input value={nameInputValue} onChange={onChangeNameInput} /></div>\n    <div>number: <input value={numberInputValue} onChange={onChangeNumberInput} /></div>\n    <div><button type=\"submit\">{buttonText}</button></div>\n  </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, onClickDelete }) => {\n  return persons.map(person =>\n    <div key={person.id}>\n      {person.name} {person.number} <button onClick={() => onClickDelete(person)}>delete</button>\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const [newNumber, setNewNumber] = useState('')\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  const [errorStatus, setErrorStatus] = useState(false)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (newName.length === 0 || newNumber.length === 0) {\n      return\n    }\n\n    const p = persons.find(person => person.name === newName)\n    if (p !== undefined) {\n      // If the person's name already exists\n\n      //window.alert(`${newName} is already added to phonebook`)\n      if (window.confirm(`${p.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const changedPerson = { ...p, number: newNumber }\n\n        personService\n          .update(p.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === p.id ? returnedPerson : person))\n            setNewName('')\n            setNewNumber('')\n\n            setNotificationMessage(`Changed ${returnedPerson.name}'s number`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorStatus(true)\n            setNotificationMessage(`Information of ${changedPerson.name} has already been removed from server`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n              setErrorStatus(false)\n            }, 5000)\n          })\n      }\n    }\n    else {\n      // If the person's name is not already present, create a new person\n\n      const newPerson = {\n        name: newName,\n        number: newNumber\n        //id: persons.length + 1\n      }\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n\n          setNotificationMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorStatus(true)\n          setNotificationMessage(`${error.message}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setErrorStatus(false)\n          }, 5000)\n        })\n    }\n  }\n\n  const removePerson = (personToRemove) => {\n    if (window.confirm(`Delete ${personToRemove.name} ?`)) {\n      personService\n        .remove(personToRemove.id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== personToRemove.id))\n\n          setNotificationMessage(`Deleted ${personToRemove.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorStatus(true)\n          setNotificationMessage(`Information of ${personToRemove.name} has already been removed from server`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setErrorStatus(false)\n          }, 5000)\n        })\n    }\n  }\n\n  const [showAll, setShowAll] = useState(true)\n\n  const [newFilterName, setNewFilterName] = useState('')\n  const handleFilterNameChange = (event) => {\n    const changedFilterName = event.target.value\n    setNewFilterName(changedFilterName)\n    setShowAll(changedFilterName !== '' ? false : true)\n  }\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newFilterName.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} error={errorStatus} />\n      <Filter value={newFilterName} onChange={handleFilterNameChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        onSubmit={addPerson}\n\n        nameInputValue={newName}\n        onChangeNameInput={handleNameChange}\n\n        numberInputValue={newNumber}\n        onChangeNumberInput={handleNumberChange}\n\n        buttonText=\"add\" />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} onClickDelete={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}